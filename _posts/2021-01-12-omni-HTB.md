---
layout: post
title: Write-Up Máquina Omni HTB
date: 2021-01-12 23:28 +0800
last_modified_at: 2021-01-12 23:28 +0800
tags: [htb, writeup, python, IoT, windows, core, powershell]
toc:  false
---

![imagen](/assets/imagenes/2021-01-12-omni-HTB/omni-card.png)

---

La máquina Omni es una máquina en la cual esta corriendo un windows IoT core con el portal de gestion en modo Dev. Para la explotacion nos vamos a aprovechar del  Sirep Test Service que es un componente del propio IoT core para realizar comprobaciones en el hardware.

---
## Escaneo

----

![Escaneo](/assets/imagenes/2021-01-12-omni-HTB/escaneo-omni.png)

---

Una vez realizado el escaneo, podemos ver varios puertos abiertos, entre ellos el 8080. En este caso es el que nos interesa, ya que el resto de puertos son componentes internos de microsoft que no deberian ser vulnerables.

---

## Puerto 8080

---

Vamos a acceder al puerto 8080 para ver que nos muestra, aunque ya nos podemos hacer una idea de lo que es viendo el escaneo. 
si nos fijamos bien, vemos que tenemos http-auth, lo que quiere decir que seguramente sea algun panel de gestión protegido por usuario y contraseña.
Un poco más abajo, nos saca un mensaje: "Basic realm=Windows Device Portal"
Esto Nos puede undicar el producto concreto que este corriendo en ese puerto.

---
![login](/assets/imagenes/2021-01-12-omni-HTB/panel-login-8080-omni.png)

---
